@using Iceshrimp.Assets.PhosphorIcons
@using Iceshrimp.Frontend.Components
@using Iceshrimp.Frontend.Localization
@using Microsoft.Extensions.Localization
@inject IStringLocalizer<Localization> Loc;

<div class="sidebar">
    <div class="header">
        <account-dropdown/>
    </div>
    <div class="nav">
        <NavLink href="/" Match="NavLinkMatch.All">
            <div class="sidebar-btn">
                <Icon Name="Icons.House"/>
                <span class="text">@Loc["Timeline"]</span>
            </div>
        </NavLink>
        <NavLink href="/notifications">
            <div class="sidebar-btn">
                <Icon Name="Icons.Bell"/>
                <span class="text">@Loc["Notifications"]</span>
            </div>
        </NavLink>
        <NavLink href="/search">
            <div class="sidebar-btn">
                <Icon Name="Icons.MagnifyingGlass"/>
                <span class="text">@Loc["Search"]</span>
            </div>
        </NavLink>
        <NavLink href="/follow-requests">
            <div class="sidebar-btn">
                <Icon Name="Icons.HandWaving" />
                <span class="text">@Loc["Follow requests"]</span>
            </div>
        </NavLink>
    </div>
    <hr/>
    <button class="sidebar-btn post-btn" @onclick="Open"><Icon Name="Icons.Pencil"></Icon>@Loc["Post"]</button>
</div>

<div class="bottom-bar">
    <div class="nav">
        <NavLink href="/search">
            <div class="sidebar-btn">
                <Icon Name="Icons.MagnifyingGlass"/>
                <span class="text">@Loc["Search"]</span>
            </div>
        </NavLink>
        <NavLink href="/">
            <div class="sidebar-btn">
                <Icon Name="Icons.House"/>
                <span class="text">@Loc["Timeline"]</span>
            </div>
        </NavLink>
        <NavLink href="/notifications">
            <div class="sidebar-btn">
                <Icon Name="Icons.Bell"/>
                <span class="text">@Loc["Notifications"]</span>
            </div>
        </NavLink>
        <div>
            <button @onclick="Open" class="sidebar-btn">
                <Icon Name="Icons.Pencil"/>
                <span class="text">@Loc["Post"]</span>
            </button>
        </div>
    </div>

</div>

<Compose @ref="_compose"/>

@code {
    private Compose _compose = null!;

    private async void Open()
    {
        await _compose.OpenDialog();
    }
}