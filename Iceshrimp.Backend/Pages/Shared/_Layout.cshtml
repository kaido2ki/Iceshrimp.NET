@inject IOptions<Config.InstanceSection> Instance
@using Iceshrimp.Backend.Core.Configuration
@using Iceshrimp.Backend.Core.Extensions
@using Iceshrimp.Backend.Core.Middleware
@using Microsoft.Extensions.Options
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>@(ViewData["title"] ?? "Iceshrimp.NET")</title>
    @* ReSharper disable once Html.PathError *@
    <link rel="stylesheet" href="~/Iceshrimp.Backend.styles.css" asp-append-version="true"/>
    <link rel="stylesheet" href="~/css/default.css" asp-append-version="true"/>
    @* ReSharper disable once Html.PathError *@
    <link rel="icon" type="image/png" href="~/favicon.png" asp-append-version="true"/>
    @await RenderSectionAsync("styles", false)
    @await RenderSectionAsync("head", false)
</head>
<body>
@RenderBody()
@await RenderSectionAsync("scripts", false)
<footer>
    <strong>Iceshrimp.NET</strong> v@(Instance.Value.Version)
    @if (!Context.ShouldHideFooter())
    {
        <span class="float-right">
            <a href="/login?rd=@((Context.Request.Path.Value ?? "/").UrlEncode())">Login</a>
        </span>
    }
</footer>
</body>
</html>